---
sidebar: sidebar
permalink: vmware/vmware-vsphere-dp.html
keywords: Data protection, Space reclamation, VM and datastore cloning, Storage efficiency, thin provisioning, QoS, SIOC, Storage Distributed Resource Scheduler, DRS, Active IQ Unified Manager, Encryption
summary: SnapCenter allows you to create backup policies that can be applied to multiple jobs. These policies can define schedule, retention, replication, and other capabilities. They continue to allow an optional selection of VM-consistent snapshots, which leverages the hypervisor's ability to quiesce I/O before taking a VMware snapshot.
---
= Data protection
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ../media/

[.lead]
Backing up your VMs and quickly recovering them are among the great strengths of ONTAP for vSphere, and it is easy to manage this ability inside vCenter with the SnapCenter Plug-In for VMware vSphere. Many customers even augment their third party backup solutions with SnapCenter to take advantage of the ONTAP snapshot technology because it is the fastest and easiest way to recover a VM with ONTAP. SnapCenter is free for customers with the ONTAP One license. Other license bundles may also be available. This section describes the various options available for protecting your VMs and datastores.

Use snapshots to make quick copies of your VM or datastore without affecting performance, and then send them to a secondary system using SnapMirror for longer-term off-site data protection. This approach minimizes storage space and network bandwidth by only storing changed information.

SnapCenter allows you to create backup policies that can be applied to multiple jobs. These policies can define schedule, retention, replication, and other capabilities. They continue to allow an optional selection of VM-consistent snapshots, which leverages the hypervisor's ability to quiesce I/O before taking a VMware snapshot. However, due to the performance effect of VMware snapshots, they are generally not recommended unless you need the guest file system to be quiesced. Instead, use snapshots for general protection, and use application tools such as SnapCenter application plug-ins to protect transactional data such as SQL Server or Oracle. These snapshots are different from VMware (consistency) snapshots and are suitable for longer-term protection.  VMware's vCenter-managed snapshots are only recommended for short-term use due to performance and other effects. Refer to link:https://techdocs.broadcom.com/us/en/vmware-cis/vsphere/vsphere/8-0/snapshot-limitations.html[Snapshot Limitations^] for more details.

These plug-ins offer extended capabilities to protect the databases in both physical and virtual environments. With vSphere, you can use them to protect SQL Server or Oracle databases where data is stored on RDM LUNs, vVols, or NVMe/TCP namespaces and iSCSI LUNs directly connected to the guest OS, or VMDK files on either VMFS or NFS datastores. The plug-ins allow the specification of different types of database backups, supporting online or offline backup, and protecting database files along with log files. In addition to backup and recovery, the plug-ins also support the cloning of databases for development or test purposes.

The following figure depicts an example of SnapCenter deployment.

image:vsphere_ontap_image4.png[SnapCenter deployment]

For improved disaster recovery capabilities, consider utilizing the NetApp SRA for ONTAP, which is part of ONTAP tools for VMware vSphere, alongside VMware Live Site Recovery (formerly known as Site Recovery Manager). This tool not only supports the replication of datastores to a disaster recovery site using SnapMirror, but it also allows for nondisruptive testing in the DR environment by cloning the replicated datastores. Additionally, recovery from a disaster and reprotecting production after resolving an outage is streamlined thanks to the built-in automation features.

Finally, for the highest level of data protection, consider a VMware vSphere Metro Storage Cluster (vMSC) configuration using NetApp MetroCluster. vMSC is a VMware-certified, NetApp supported solution that uses synchronous replication, giving the same benefits of a high-availability cluster but distributed across separate sites to protect against site disaster. NetApp SnapMirror active sync, with ASA and AFF, and MetroCluster with AFF, offers cost-effective configurations for synchronous replication with transparent recovery from any single storage component failure as well as transparent recovery in the case of SnapMirror active sync, or single-command recovery in the event of a site disaster with MetroCluster. vMSC is described in greater detail in https://www.netapp.com/pdf.html?item=/media/19773-tr-4128.pdf[TR-4128^].
